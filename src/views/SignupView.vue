<template>

  <!-- Navbar -->
  <Navbar></Navbar>
  
  <!-- Signup -->
  <div class="relative flex mt-4">
      <div class="flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto">
      <div data-aos="fade-up" data-aos-delay="600" class="md:flex md:items-center md:justify-center w-full sm:w-auto md:h-full w-2/5 xl:w-2/5 p-8  md:p-10 lg:p-14 sm:rounded-lg md:rounded-none">
          <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h2 class="mt-6 text-3xl font-bold text-gray-900">
                Welcome Here !
                </h2>
                <p class="mt-2 text-sm text-gray-500">Please sign up to acces in our website</p>
            </div>
                <div class="relative">
                  <label class="ml-3 text-sm font-bold text-gray-700 tracking-wide">Username</label>
                  <input id="username" name="username" type="username" v-model='name' class=" w-full text-base px-4 py-2 border-b border-gray-300 focus:outline-none rounded-2xl focus:border-indigo-500" placeholder="Username account">
                </div>
                <div class="relative">
                  <label class="ml-3 text-sm font-bold text-gray-700 tracking-wide">Email</label>
                  <input id="email" name="email" type="email" v-model='email' class=" w-full text-base px-4 py-2 border-b border-gray-300 focus:outline-none rounded-2xl focus:border-indigo-500" placeholder="Email account">
                </div>
                <div class="mt-8 content-center">
                  <label class="ml-3 text-sm font-bold text-gray-700 tracking-wide">Password</label>
                  <div class="relative">
                        <input :type="this.$store.state.togglePassword ? 'text' : 'password'" v-model="password" id="PASSWORD" name="PASSWORD" class="w-full content-center text-base px-4 py-2 border-b rounded-2xl border-gray-300 focus:outline-none focus:border-indigo-500" placeholder="Enter ur password">
                        <div class="absolute right-0 bottom-0 top-0 px-3 py-3 cursor-pointer" @click="this.$store.state.togglePassword = !this.$store.state.togglePassword">
                            <svg :class="{hidden: !this.$store.state.togglePassword, block: this.$store.state.togglePassword,}" class="w-6 h-6 fill-current text-gray-500" viewBox="0 0 24 24">
                                <path d="M12 19c.946 0 1.81-.103 2.598-.281l-1.757-1.757C12.568 16.983 12.291 17 12 17c-5.351 0-7.424-3.846-7.926-5 .204-.47.674-1.381 1.508-2.297L4.184 8.305c-1.538 1.667-2.121 3.346-2.132 3.379-.069.205-.069.428 0 .633C2.073 12.383 4.367 19 12 19zM12 5c-1.837 0-3.346.396-4.604.981L3.707 2.293 2.293 3.707l18 18 1.414-1.414-3.319-3.319c2.614-1.951 3.547-4.615 3.561-4.657.069-.205.069-.428 0-.633C21.927 11.617 19.633 5 12 5zM16.972 15.558l-2.28-2.28C14.882 12.888 15 12.459 15 12c0-1.641-1.359-3-3-3-.459 0-.888.118-1.277.309L8.915 7.501C9.796 7.193 10.814 7 12 7c5.351 0 7.424 3.846 7.926 5C19.624 12.692 18.76 14.342 16.972 15.558z"/>
                            </svg>
                            <svg :class="{hidden: this.$store.state.togglePassword,block: !this.$store.state.togglePassword,}" class="w-6 h-6 fill-current text-gray-500" viewBox="0 0 24 24">
                                <path d="M12,9c-1.642,0-3,1.359-3,3c0,1.642,1.358,3,3,3c1.641,0,3-1.358,3-3C15,10.359,13.641,9,12,9z"/>
                                <path d="M12,5c-7.633,0-9.927,6.617-9.948,6.684L1.946,12l0.105,0.316C2.073,12.383,4.367,19,12,19s9.927-6.617,9.948-6.684 L22.054,12l-0.105-0.316C21.927,11.617,19.633,5,12,5z M12,17c-5.351,0-7.424-3.846-7.926-5C4.578,10.842,6.652,7,12,7 c5.351,0,7.424,3.846,7.926,5C19.422,13.158,17.348,17,12,17z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <!--<div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input id="remember_me" name="remember_me" type="checkbox"
                        class="h-4 w-4 bg-white focus:ring-blue-400 border-gray-300 rounded">
                        <label for="remember_me" class="ml-2 block text-sm text-gray-900">
                        Remember me
                        </label>
                    </div>
                    <div class="text-sm">
                        <a href="#" class="text-indigo-400 hover:text-blue-500">
                        Forgot your password?
                        </a>
                    </div>
                </div>-->
                <div>
                <button @click="register"
                    class="w-full flex justify-center bg-gradient-to-r from-indigo-500 to-blue-600  hover:bg-gradient-to-l hover:from-blue-500 hover:to-indigo-600 text-gray-100 p-4  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500">
                    Signup
                </button>
                </div>
                <p class="flex flex-col items-center justify-center mt-10 text-center text-md text-gray-500">
                <span>You have an account?</span>
                <a href="/login"
                    class="text-indigo-400 hover:text-blue-500 no-underline hover:underline cursor-pointer transition ease-in duration-300">Login</a>
                </p>
          </div>
          <div class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-43rem)]">
            <svg class="relative left-[calc(50%+3rem)] h-[21.1875rem] max-w-none -translate-x-1/2 sm:left-[calc(50%+36rem)] sm:h-[42.375rem]" viewBox="0 0 1155 678" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill="url(#ecb5b0c9-546c-4772-8c71-4d3f06d544bc)" fill-opacity=".3" d="M317.219 518.975L203.852 678 0 438.341l317.219 80.634 204.172-286.402c1.307 132.337 45.083 346.658 209.733 145.248C936.936 126.058 882.053-94.234 1031.02 41.331c119.18 108.451 130.68 295.337 121.53 375.223L855 299l21.173 362.054-558.954-142.079z" />
              <defs>
                <linearGradient id="ecb5b0c9-546c-4772-8c71-4d3f06d544bc" x1="1155.49" x2="-78.208" y1=".177" y2="474.645" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#9089FC" />
                  <stop offset="1" stop-color="#FF80B5" />
                </linearGradient>
              </defs>
            </svg>
          </div>
      </div>
      <div class="sm:w-1/2 xl:w-3/5 h-screen hidden md:flex flex-auto items-center justify-center p-10 overflow-hidden text-white bg-no-repeat bg-cover relative" style="background-image: url(img/bg_login.jpeg);">
          <div class="absolute bg-gradient-to-b from-indigo-600 to-blue-500 opacity-75 inset-0 z-0"></div>
          <div class="w-full  max-w-md z-10">
          <img data-aos="fade-right" data-aos-delay="400" src="img/signup.webp" class="-mt-4 h-72"/>
          <div data-aos="fade-right" data-aos-delay="400" class="sm:text-4xl xl:text-5xl font-bold leading-tight mb-6">Cryptocoin</div>
          <div data-aos="fade-up" data-aos-delay="600" class="sm:text-sm xl:text-md text-gray-200 font-normal">Sign up to access the dashboard of our website and enjoy maximum trading on popular cryptocurrencies.</div>
          </div>
          <!--- Style fond -->
          <ul class="circles">
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
          </ul>
      </div>
      </div>
  </div>
</template>

<script>
import Navbar from "../components/layouts/Navbar.vue";
import axios from 'axios'
export default {
    data() {
      return {
          auth: 1,
          name : "",
          email: "",
          password : "",
      }
    },
    methods : {
        async register() {
            const res = await axios.post('http://localhost:8080/api/register',
            {
                "users" : {
                    "name": this.username,
                    "email" :  this.email,
                    "password" : this.password,
                    "role" : 1
                }
            })
            this.auth = res["data"]["data"].length
            if (this.auth != 0) {
                this.$router.push('/profile')
            }
        }
    },
    components: {
      Navbar,
    },
}
</script>

<style>
.circles{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.circles li{
  position: absolute;
  display: block;
  list-style: none;
  width: 20px;
  height: 20px;
  background: rgba(255, 255, 255, 0.2);
  animation: animate 25s linear infinite;
  bottom: -150px;  
}
.circles li:nth-child(1){
  left: 25%;
  width: 80px;
  height: 80px;
  animation-delay: 0s;
}

.circles li:nth-child(2){
  left: 10%;
  width: 20px;
  height: 20px;
  animation-delay: 2s;
  animation-duration: 12s;
}

.circles li:nth-child(3){
  left: 70%;
  width: 20px;
  height: 20px;
  animation-delay: 4s;
}

.circles li:nth-child(4){
  left: 40%;
  width: 60px;
  height: 60px;
  animation-delay: 0s;
  animation-duration: 18s;
}

.circles li:nth-child(5){
  left: 65%;
  width: 20px;
  height: 20px;
  animation-delay: 0s;
}

.circles li:nth-child(6){
  left: 75%;
  width: 110px;
  height: 110px;
  animation-delay: 3s;
}

.circles li:nth-child(7){
  left: 35%;
  width: 150px;
  height: 150px;
  animation-delay: 7s;
}

.circles li:nth-child(8){
  left: 50%;
  width: 25px;
  height: 25px;
  animation-delay: 15s;
  animation-duration: 45s;
}

.circles li:nth-child(9){
  left: 20%;
  width: 15px;
  height: 15px;
  animation-delay: 2s;
  animation-duration: 35s;
}

.circles li:nth-child(10){
  left: 85%;
  width: 150px;
  height: 150px;
  animation-delay: 0s;
  animation-duration: 11s;
}
@keyframes animate {

  0%{
      transform: translateY(0) rotate(0deg);
      opacity: 1;
      border-radius: 0;
  }

  100%{
      transform: translateY(-1000px) rotate(720deg);
      opacity: 0;
      border-radius: 50%;
  }

}
</style>